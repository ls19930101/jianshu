{"ast":null,"code":"import _classCallCheck from \"/Users/lishuang/Desktop/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lishuang/Desktop/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lishuang/Desktop/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lishuang/Desktop/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lishuang/Desktop/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lishuang/Desktop/jianshu/src/common/header/index.js\";\nimport React, { Component } from 'react';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, Addition, Button, SearchWrapper, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem } from './style';\nimport { IconGlobal } from '../../statics/iconfont/iconfont';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Header).apply(this, arguments));\n  }\n\n  _createClass(Header, [{\n    key: \"getListArea\",\n    value: function getListArea() {\n      var _this$props = this.props,\n          focused = _this$props.focused,\n          list = _this$props.list,\n          mouthIn = _this$props.mouthIn,\n          handMouthIn = _this$props.handMouthIn,\n          handMouthLeave = _this$props.handMouthLeave,\n          handlePageChange = _this$props.handlePageChange,\n          page = _this$props.page,\n          totalPage = _this$props.totalPage;\n      var newlist = list.toJS();\n      var pageList = [];\n\n      if (newlist.length) {\n        for (var i = (page - 1) * 10; i < page * 10; i++) {\n          pageList.push(React.createElement(SearchInfoItem, {\n            key: newlist[i],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, newlist[i]));\n        }\n      }\n\n      if (focused || mouthIn) {\n        return React.createElement(SearchInfo, {\n          onMouseEnter: handMouthIn,\n          onMouseLeave: handMouthLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(SearchInfoTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, \"\\u70ED\\u95E8\\u641C\\u7D22\", React.createElement(SearchInfoSwitch, {\n          onClick: function onClick() {\n            return handlePageChange(page, totalPage);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"iconfont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"\\uE851\"), \"\\u6362\\u4E00\\u6279\")), React.createElement(SearchInfoList, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, pageList));\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          focused = _this$props2.focused,\n          handleSearchBlur = _this$props2.handleSearchBlur,\n          HandleSearchFocus = _this$props2.HandleSearchFocus;\n      return React.createElement(HeaderWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(IconGlobal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(NavItem, {\n        className: \"left active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u9996\\u9875\"), React.createElement(NavItem, {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\u4E0B\\u8F7DApp\"), React.createElement(NavItem, {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"\\uE636\")), React.createElement(NavItem, {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\"), React.createElement(SearchWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(CSSTransition, {\n        in: focused,\n        timeout: 300,\n        classNames: \"slide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(NavSearch, {\n        className: focused ? 'focused' : '',\n        onFocus: function onFocus() {\n          return HandleSearchFocus(pageList);\n        },\n        onBlur: handleSearchBlur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\uE60B\"), this.getListArea(focused))), React.createElement(Addition, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"writting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"\\uE615\"), \"\\u5199\\u6587\\u7AE0\"), React.createElement(Button, {\n        className: \"reg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\")));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    focused: state.getIn(['header', 'focused']),\n    list: state.getIn(['header', 'list']),\n    mouthIn: state.getIn(['header', 'mouthIn']),\n    page: state.getIn(['header', 'page']),\n    totalPage: state.getIn(['header', 'totalPage'])\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    HandleSearchFocus: function HandleSearchFocus(pageList) {\n      dispatch(actionCreators.getSearchFocused());\n\n      if (pageList.length === 0) {}\n\n      dispatch(actionCreators.getList());\n    },\n    handleSearchBlur: function handleSearchBlur() {\n      dispatch(actionCreators.getSearchBlur());\n    },\n    handMouthIn: function handMouthIn() {\n      dispatch(actionCreators.getMouthIn());\n    },\n    handMouthLeave: function handMouthLeave() {\n      dispatch(actionCreators.getMouthLeave());\n    },\n    handlePageChange: function handlePageChange(page, totalPage) {\n      if (page < totalPage) {\n        dispatch(actionCreators.getPageChange(page + 1));\n      } else {\n        dispatch(actionCreators.getPageChange(1));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/lishuang/Desktop/jianshu/src/common/header/index.js"],"names":["React","Component","HeaderWrapper","Logo","Nav","NavItem","NavSearch","Addition","Button","SearchWrapper","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoList","SearchInfoItem","IconGlobal","connect","CSSTransition","actionCreators","Header","props","focused","list","mouthIn","handMouthIn","handMouthLeave","handlePageChange","page","totalPage","newlist","toJS","pageList","length","i","push","handleSearchBlur","HandleSearchFocus","getListArea","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","getSearchFocused","getList","getSearchBlur","getMouthIn","getMouthLeave","getPageChange"],"mappings":"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","sourcesContent":["import React ,{Component} from 'react';\nimport {HeaderWrapper,\n        Logo,\n        Nav,\n        NavItem,\n        NavSearch,\n        Addition,\n        Button,\n        SearchWrapper,\n        SearchInfo,\n        SearchInfoTitle,\n        SearchInfoSwitch,\n        SearchInfoList,\n        SearchInfoItem,\n        } from './style';\nimport { IconGlobal } from '../../statics/iconfont/iconfont';\nimport {connect} from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\n\nclass Header extends Component{\n\n    getListArea(){\n        const {focused,list,mouthIn,handMouthIn,handMouthLeave,handlePageChange,page,totalPage}=this.props;\n        const newlist=list.toJS();\n        const pageList=[];\n        if(newlist.length){\n            for(let i=(page-1)*10;i<page*10;i++){\n                pageList.push(\n                <SearchInfoItem key={newlist[i]}>{newlist[i]}</SearchInfoItem>\n                )\n            }\n        }\n        \n        if(focused||mouthIn){\n            return (\n            <SearchInfo \n            onMouseEnter={handMouthIn}\n            onMouseLeave={handMouthLeave} \n            >\n                <SearchInfoTitle>热门搜索\n                <SearchInfoSwitch onClick={()=>handlePageChange(page,totalPage)}>\n                <span className  =\"iconfont\">&#xe851;</span>\n                换一批</SearchInfoSwitch>\n                </SearchInfoTitle>\n                <SearchInfoList>\n                  {pageList}   \n                </SearchInfoList>\n            </SearchInfo>\n            )\n        }\n        else {return null}\n    }\n\n    render(){\n        const {focused,handleSearchBlur,HandleSearchFocus} =this.props;\n        return (\n            <HeaderWrapper>\n                 <Logo href='/'/> \n                 <Nav>\n                    <IconGlobal/>\n                        <NavItem className='left active'>首页</NavItem>\n                        <NavItem className='left'>下载App</NavItem>\n                        <NavItem className='right'><span className  =\"iconfont\">&#xe636;</span></NavItem>\n                        <NavItem className='right'>登录</NavItem>\n                        <SearchWrapper>\n                        <CSSTransition\n                        in={focused}\n                        timeout={300}\n                        classNames=\"slide\" \n                        >\n                            <NavSearch className={focused? 'focused':''}\n                            onFocus={()=>HandleSearchFocus(pageList)}\n                            onBlur={handleSearchBlur}\n                            >\n                            </NavSearch>\n                            </CSSTransition>\n                            <span className ={focused? 'focused iconfont zoom' :'iconfont zoom'}>&#xe60b;</span>\n                            {this.getListArea(focused)}\n                        </SearchWrapper>\n                 </Nav>\n                 <Addition>\n                     <Button className='writting'><span className  =\"iconfont\">&#xe615;</span>写文章</Button>\n                     <Button className='reg'>注册</Button>\n                 </Addition>\n            </HeaderWrapper>\n        )\n    }\n} \n\n\nconst mapStateToProps=(state)=>{\n    return{\n      focused:state.getIn(['header','focused']),\n      list:state.getIn(['header','list']),\n      mouthIn:state.getIn(['header','mouthIn']),\n      page:state.getIn(['header','page']),\n      totalPage:state.getIn(['header','totalPage']),\n    }\n\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n        HandleSearchFocus(pageList){\n            dispatch(actionCreators.getSearchFocused()); \n            if(pageList.length===0){\n                \n            }\n            dispatch(actionCreators.getList());\n            \n        },\n            \n        handleSearchBlur(){\n            dispatch(actionCreators.getSearchBlur());\n        },\n\n        handMouthIn(){\n            dispatch(actionCreators.getMouthIn())\n        },\n\n        handMouthLeave(){\n            dispatch(actionCreators.getMouthLeave())\n        },\n        \n        handlePageChange(page,totalPage){\n            if(page<totalPage){\n                dispatch(actionCreators.getPageChange(page+1))\n                \n            }\n            else {\n                dispatch(actionCreators.getPageChange(1))\n            }\n           \n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}